(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{7913:function(e,n,r){"use strict";var t=r(5696);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,a=(o=r(7294))&&o.__esModule?o:{default:o},s=r(2199),i=r(1587),c=r(7215);var u={};function l(e,n,r,t){if(e&&s.isLocalURL(n)){e.prefetch(n,r,t).catch((function(e){0}));var o=t&&"undefined"!==typeof t.locale?t.locale:e&&e.locale;u[n+"%"+r+(o?"%"+o:"")]=!0}}var d=function(e){var n,r=!1!==e.prefetch,o=i.useRouter(),d=a.default.useMemo((function(){var n=s.resolveHref(o,e.href,!0),r=t(n,2),a=r[0],i=r[1];return{href:a,as:e.as?s.resolveHref(o,e.as):i||a}}),[o,e.href,e.as]),f=d.href,p=d.as,m=a.default.useRef(f),h=a.default.useRef(p),y=e.children,w=e.replace,g=e.shallow,v=e.scroll,b=e.locale;"string"===typeof y&&(y=a.default.createElement("a",null,y));var j=(n=a.default.Children.only(y))&&"object"===typeof n&&n.ref,x=c.useIntersection({rootMargin:"200px"}),_=t(x,3),O=_[0],k=_[1],P=_[2],E=a.default.useCallback((function(e){h.current===p&&m.current===f||(P(),h.current=p,m.current=f),O(e),j&&("function"===typeof j?j(e):"object"===typeof j&&(j.current=e))}),[p,j,f,P,O]);a.default.useEffect((function(){var e=k&&r&&s.isLocalURL(f),n="undefined"!==typeof b?b:o&&o.locale,t=u[f+"%"+p+(n?"%"+n:"")];e&&!t&&l(o,f,p,{locale:n})}),[p,f,k,b,r,o]);var C={ref:E,onClick:function(e){n.props&&"function"===typeof n.props.onClick&&n.props.onClick(e),e.defaultPrevented||function(e,n,r,t,o,a,i,c){("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&s.isLocalURL(r))&&(e.preventDefault(),n[o?"replace":"push"](r,t,{shallow:a,locale:c,scroll:i}))}(e,o,f,p,w,g,v,b)},onMouseEnter:function(e){n.props&&"function"===typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),s.isLocalURL(f)&&l(o,f,p,{priority:!0})}};if(e.passHref||"a"===n.type&&!("href"in n.props)){var I="undefined"!==typeof b?b:o&&o.locale,L=o&&o.isLocaleDomain&&s.getDomainLocale(p,I,o&&o.locales,o&&o.domainLocales);C.href=L||s.addBasePath(s.addLocale(p,I,o&&o.defaultLocale))}return a.default.cloneElement(n,C)};n.default=d,("function"===typeof n.default||"object"===typeof n.default&&null!==n.default)&&(Object.assign(n.default,n),e.exports=n.default)},7215:function(e,n,r){"use strict";var t=r(5696);Object.defineProperty(n,"__esModule",{value:!0}),n.useIntersection=function(e){var n=e.rootRef,r=e.rootMargin,u=e.disabled||!s,l=o.useRef(),d=o.useState(!1),f=t(d,2),p=f[0],m=f[1],h=o.useState(n?n.current:null),y=t(h,2),w=y[0],g=y[1],v=o.useCallback((function(e){l.current&&(l.current(),l.current=void 0),u||p||e&&e.tagName&&(l.current=function(e,n,r){var t=function(e){var n,r={root:e.root||null,margin:e.rootMargin||""},t=c.find((function(e){return e.root===r.root&&e.margin===r.margin}));t?n=i.get(t):(n=i.get(r),c.push(r));if(n)return n;var o=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var n=o.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;n&&r&&n(r)}))}),e);return i.set(r,n={id:r,observer:a,elements:o}),n}(r),o=t.id,a=t.observer,s=t.elements;return s.set(e,n),a.observe(e),function(){if(s.delete(e),a.unobserve(e),0===s.size){a.disconnect(),i.delete(o);var n=c.findIndex((function(e){return e.root===o.root&&e.margin===o.margin}));n>-1&&c.splice(n,1)}}}(e,(function(e){return e&&m(e)}),{root:w,rootMargin:r}))}),[u,w,r,p]),b=o.useCallback((function(){m(!1)}),[]);return o.useEffect((function(){if(!s&&!p){var e=a.requestIdleCallback((function(){return m(!0)}));return function(){return a.cancelIdleCallback(e)}}}),[p]),o.useEffect((function(){n&&g(n.current)}),[n]),[v,p,b]};var o=r(7294),a=r(8065),s="undefined"!==typeof IntersectionObserver;var i=new Map,c=[];("function"===typeof n.default||"object"===typeof n.default&&null!==n.default)&&(Object.assign(n.default,n),e.exports=n.default)},9171:function(e,n,r){"use strict";r.d(n,{P:function(){return o},k:function(){return t}});var t=function(e){return{type:"SET_ERROR",payload:e}},o=function(){return{type:"CLEAR_ERROR"}}},5924:function(e,n,r){"use strict";r.d(n,{g:function(){return t},s:function(){return o}});var t=function(){return{type:"LOADING"}},o=function(){return{type:"LOADED"}}},2379:function(e,n,r){"use strict";r.d(n,{Mo:function(){return o},cL:function(){return t},lv:function(){return a}});var t=function(e){return{type:"SIGN_IN",payload:e}},o=function(e){return{type:"SIGN_UP",payload:e}},a=function(){return{type:"SIGN_OUT"}}},2109:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return j}});var t=r(29),o=r(9499),a=r(7794),s=r.n(a),i=r(7294),c=r(1043),u=r(554),l=r(1664),d=r.n(l),f=r(1163),p=r(451),m=r(4807),h=r(2379),y=r(5924),w=r(9171),g=r(5893);function v(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function b(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?v(Object(r),!0).forEach((function(n){(0,o.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function j(){var e=(0,c.I0)(),n=(0,f.useRouter)(),r=(0,i.useState)({nickname:"",username:"",password:"",confirmPassword:"",confirmationCode:""}),a=r[0],l=r[1],v=(0,i.useState)(null),j=v[0],x=v[1],_=(0,c.v9)((function(e){return e.error})),O=(0,c.v9)((function(e){return e.loading})),k=(0,c.v9)((function(e){return e.user}));function P(){e((0,w.P)())}k&&k.attributes.email;var E=function(e){var n=e.currentTarget.name,r=e.currentTarget.value;l((function(e){return b(b({},e),{},(0,o.Z)({},n,r))}))};function C(e,n){return I.apply(this,arguments)}function I(){return(I=(0,t.Z)(s().mark((function n(r,t){var o,i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),P(),!(o=(0,p.Z)(r,a))){n.next=7;break}e((0,w.k)(o)),n.next=27;break;case 7:return n.prev=7,e((0,y.g)()),n.prev=9,n.next=12,u.g.signUp({username:a.username,password:a.password,attributes:{nickname:a.nickname}});case 12:i=n.sent,x(i),e((0,y.s)()),n.next=21;break;case 17:n.prev=17,n.t0=n.catch(9),e((0,y.s)()),e((0,w.k)(n.t0.message));case 21:n.next=27;break;case 23:n.prev=23,n.t1=n.catch(7),e((0,y.s)()),e((0,w.k)(n.t1.message));case 27:case"end":return n.stop()}}),n,null,[[7,23],[9,17]])})))).apply(this,arguments)}function L(e){return N.apply(this,arguments)}function N(){return(N=(0,t.Z)(s().mark((function r(t){var o,i,c;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.preventDefault(),P(),!(o=(0,p.Z)(t,a))){r.next=7;break}e((0,w.k)(o)),r.next=31;break;case 7:return r.prev=7,e((0,y.g)()),r.prev=9,r.next=12,u.g.confirmSignUp(a.username,a.confirmationCode);case 12:return r.next=14,u.g.signIn(a.username,a.password);case 14:i=r.sent,c=i.username,e((0,h.cL)(c)),n.push("/browse"),e((0,y.s)()),r.next=25;break;case 21:r.prev=21,r.t0=r.catch(9),e((0,y.s)()),e((0,w.k)(r.t0.message));case 25:r.next=31;break;case 27:r.prev=27,r.t1=r.catch(7),e((0,y.s)()),e((0,w.k)(r.t1.message));case 31:case"end":return r.stop()}}),r,null,[[7,27],[9,21]])})))).apply(this,arguments)}return(0,g.jsx)("div",{className:"Signup",children:null===j?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.h4,{bg:!1,children:(0,g.jsx)(m.h4.Frame,{children:(0,g.jsx)(d(),{href:"/",children:(0,g.jsx)("a",{children:(0,g.jsx)(m.h4.Logo,{src:"../logo.png",alt:"iArt"})})})})}),(0,g.jsxs)(m._n,{children:[(0,g.jsxs)(m._n.InfoContainer,{children:[(0,g.jsx)(m._n.Headline,{children:"Gallery, meet iArt"}),(0,g.jsx)(m._n.Text,{children:"We offer the only virtual tours that actually increase your visibility and drive traffic back to your website without interfering with the way you do business. We look forward to hearing from you today!"}),(0,g.jsx)(m._n.GalleryButton,{href:"mailto:amy@iart-gallerywalks.com",children:"Contact"})]}),(0,g.jsxs)(m._n.FormContainer,{children:[O&&(0,g.jsx)(m.$j,{}),(0,g.jsxs)(m._n.Form,{onSubmit:C,children:[(0,g.jsx)(m._n.FormHeadline,{children:"Sign Up"}),_?(0,g.jsx)(m._n.Error,{children:_}):"",(0,g.jsx)(m._n.Group,{controlId:"nickname",children:(0,g.jsx)(m._n.Input,{"aria-describedby":"nicknameHelp",placeholder:"Name",type:"text",name:"nickname",id:"nickname",value:a.nickname,onChange:E})}),(0,g.jsx)(m._n.Group,{controlId:"username",children:(0,g.jsx)(m._n.Input,{"aria-describedby":"confirmationCodeHelp",type:"email",name:"username",id:"username",placeholder:"Email Address",value:a.username,onChange:E})}),(0,g.jsx)(m._n.Group,{controlId:"password",children:(0,g.jsx)(m._n.Input,{"aria-describedby":"passwordHelp",type:"password",name:"password",id:"password",placeholder:"Password",value:a.password,onChange:E})}),(0,g.jsx)(m._n.Group,{controlId:"confirmPassword",children:(0,g.jsx)(m._n.Input,{"aria-describedby":"confirmPasswordHelp",type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm password",onChange:E,value:a.confirmPassword})}),(0,g.jsx)("button",{type:"submit",className:"auth-button",children:"Register"}),(0,g.jsx)(m._n.LinkContainer,{children:(0,g.jsx)(m._n.Link,{href:"/login",children:"Already a member? Login"})})]})]})]})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.h4,{bg:!1,children:(0,g.jsx)(m.h4.Frame,{children:(0,g.jsx)(m.h4.Logo,{src:"../logo.png",alt:"iArt"})})}),(0,g.jsxs)(m._n,{children:[(0,g.jsxs)(m._n.InfoContainer,{children:[(0,g.jsx)(m._n.Headline,{children:"Gallery, meet iArt"}),(0,g.jsx)(m._n.Text,{children:"We offer the only virtual tours that actually increase your visibility and drive traffic back to your website without interfering with the way you do business. We look forward to hearing from you today!"}),(0,g.jsx)(m._n.GalleryButton,{type:"submit",children:"Contact"})]}),(0,g.jsxs)(m._n.FormContainer,{children:[O&&(0,g.jsx)(m.$j,{}),(0,g.jsxs)(m._n.Form,{onSubmit:L,children:[(0,g.jsx)(m._n.FormHeadline,{children:"Confirmation Code"}),_?(0,g.jsx)(m._n.Error,{children:_}):"",(0,g.jsxs)(m._n.Group,{controlId:"confirmationCode",children:[(0,g.jsx)(m._n.Input,{"aria-describedby":"confirmationCodeHelp",type:"tel",name:"confirmationCode",id:"confirmationCode",placeholder:"Enter code",value:a.confirmationCode,onChange:E}),(0,g.jsx)(m._n.Text,{children:"Please check your email for the code. The code may be in your spam folder."})]}),(0,g.jsx)("button",{type:"submit",className:"auth-button",children:"Confirm"})]})]})]})]})})}},451:function(e,n){"use strict";n.Z=function(e,n){for(var r=document.getElementsByClassName("is-danger"),t=0;t<r.length;t++)r[t].classList.contains("error")||r[t].classList.remove("is-danger");return n.hasOwnProperty("nickname")&&""===n.nickname?(document.getElementById("nickname").classList.add("is-danger"),"Name cannot be empty"):n.hasOwnProperty("email")&&""===n.email?(document.getElementById("email").classList.add("is-danger"),"Email cannot be empty"):n.hasOwnProperty("verificationcode")&&""===n.verificationcode?(document.getElementById("verificationcode").classList.add("is-danger"),"Verification code cannot be empty"):n.hasOwnProperty("password")&&""===n.password?(document.getElementById("password").classList.add("is-danger"),"Password cannot be empty"):n.hasOwnProperty("oldpassword")&&""===n.oldpassword?(document.getElementById("oldpassword").classList.add("is-danger"),"Old password cannot be empty"):n.hasOwnProperty("newpassword")&&""===n.newpassword?(document.getElementById("newpassword").classList.add("is-danger"),"New password cannot be empty"):n.hasOwnProperty("confirmpassword")&&""===n.confirmpassword?(document.getElementById("confirmpassword").classList.add("is-danger"),"Confirm password cannot be empty"):n.hasOwnProperty("password")&&n.hasOwnProperty("confirmpassword")&&n.password!==n.confirmpassword?(document.getElementById("password").classList.add("is-danger"),document.getElementById("confirmpassword").classList.add("is-danger"),"Passwords must match"):n.hasOwnProperty("newpassword")&&n.hasOwnProperty("confirmpassword")&&n.newpassword!==n.confirmpassword?(document.getElementById("newpassword").classList.add("is-danger"),document.getElementById("confirmpassword").classList.add("is-danger"),"Passwords must match"):void 0}},8740:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return r(2109)}])},1664:function(e,n,r){e.exports=r(7913)},1163:function(e,n,r){e.exports=r(1587)},6864:function(e,n,r){"use strict";function t(){return t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},t.apply(this,arguments)}r.d(n,{Z:function(){return t}})},4730:function(e,n,r){"use strict";function t(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}r.d(n,{Z:function(){return t}})}},function(e){e.O(0,[807,774,888,179],(function(){return n=8740,e(e.s=n);var n}));var n=e.O();_N_E=n}]);