(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[310],{7913:function(e,r,n){"use strict";var t=n(5696);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=(o=n(7294))&&o.__esModule?o:{default:o},a=n(2199),c=n(1587),i=n(7215);var u={};function d(e,r,n,t){if(e&&a.isLocalURL(r)){e.prefetch(r,n,t).catch((function(e){0}));var o=t&&"undefined"!==typeof t.locale?t.locale:e&&e.locale;u[r+"%"+n+(o?"%"+o:"")]=!0}}var l=function(e){var r,n=!1!==e.prefetch,o=c.useRouter(),l=s.default.useMemo((function(){var r=a.resolveHref(o,e.href,!0),n=t(r,2),s=n[0],c=n[1];return{href:s,as:e.as?a.resolveHref(o,e.as):c||s}}),[o,e.href,e.as]),f=l.href,p=l.as,w=s.default.useRef(f),m=s.default.useRef(p),y=e.children,h=e.replace,g=e.shallow,v=e.scroll,b=e.locale;"string"===typeof y&&(y=s.default.createElement("a",null,y));var O=(r=s.default.Children.only(y))&&"object"===typeof r&&r.ref,j=i.useIntersection({rootMargin:"200px"}),x=t(j,3),E=x[0],_=x[1],P=x[2],L=s.default.useCallback((function(e){m.current===p&&w.current===f||(P(),m.current=p,w.current=f),E(e),O&&("function"===typeof O?O(e):"object"===typeof O&&(O.current=e))}),[p,O,f,P,E]);s.default.useEffect((function(){var e=_&&n&&a.isLocalURL(f),r="undefined"!==typeof b?b:o&&o.locale,t=u[f+"%"+p+(r?"%"+r:"")];e&&!t&&d(o,f,p,{locale:r})}),[p,f,_,b,n,o]);var I={ref:L,onClick:function(e){r.props&&"function"===typeof r.props.onClick&&r.props.onClick(e),e.defaultPrevented||function(e,r,n,t,o,s,c,i){("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var r=e.currentTarget.target;return r&&"_self"!==r||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&a.isLocalURL(n))&&(e.preventDefault(),r[o?"replace":"push"](n,t,{shallow:s,locale:i,scroll:c}))}(e,o,f,p,h,g,v,b)},onMouseEnter:function(e){r.props&&"function"===typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),a.isLocalURL(f)&&d(o,f,p,{priority:!0})}};if(e.passHref||"a"===r.type&&!("href"in r.props)){var k="undefined"!==typeof b?b:o&&o.locale,C=o&&o.isLocaleDomain&&a.getDomainLocale(p,k,o&&o.locales,o&&o.domainLocales);I.href=C||a.addBasePath(a.addLocale(p,k,o&&o.defaultLocale))}return s.default.cloneElement(r,I)};r.default=l,("function"===typeof r.default||"object"===typeof r.default&&null!==r.default)&&(Object.assign(r.default,r),e.exports=r.default)},7215:function(e,r,n){"use strict";var t=n(5696);Object.defineProperty(r,"__esModule",{value:!0}),r.useIntersection=function(e){var r=e.rootRef,n=e.rootMargin,u=e.disabled||!a,d=o.useRef(),l=o.useState(!1),f=t(l,2),p=f[0],w=f[1],m=o.useState(r?r.current:null),y=t(m,2),h=y[0],g=y[1],v=o.useCallback((function(e){d.current&&(d.current(),d.current=void 0),u||p||e&&e.tagName&&(d.current=function(e,r,n){var t=function(e){var r,n={root:e.root||null,margin:e.rootMargin||""},t=i.find((function(e){return e.root===n.root&&e.margin===n.margin}));t?r=c.get(t):(r=c.get(n),i.push(n));if(r)return r;var o=new Map,s=new IntersectionObserver((function(e){e.forEach((function(e){var r=o.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;r&&n&&r(n)}))}),e);return c.set(n,r={id:n,observer:s,elements:o}),r}(n),o=t.id,s=t.observer,a=t.elements;return a.set(e,r),s.observe(e),function(){if(a.delete(e),s.unobserve(e),0===a.size){s.disconnect(),c.delete(o);var r=i.findIndex((function(e){return e.root===o.root&&e.margin===o.margin}));r>-1&&i.splice(r,1)}}}(e,(function(e){return e&&w(e)}),{root:h,rootMargin:n}))}),[u,h,n,p]),b=o.useCallback((function(){w(!1)}),[]);return o.useEffect((function(){if(!a&&!p){var e=s.requestIdleCallback((function(){return w(!0)}));return function(){return s.cancelIdleCallback(e)}}}),[p]),o.useEffect((function(){r&&g(r.current)}),[r]),[v,p,b]};var o=n(7294),s=n(8065),a="undefined"!==typeof IntersectionObserver;var c=new Map,i=[];("function"===typeof r.default||"object"===typeof r.default&&null!==r.default)&&(Object.assign(r.default,r),e.exports=r.default)},9171:function(e,r,n){"use strict";n.d(r,{P:function(){return o},k:function(){return t}});var t=function(e){return{type:"SET_ERROR",payload:e}},o=function(){return{type:"CLEAR_ERROR"}}},5924:function(e,r,n){"use strict";n.d(r,{g:function(){return t},s:function(){return o}});var t=function(){return{type:"LOADING"}},o=function(){return{type:"LOADED"}}},1253:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return b}});var t=n(29),o=n(9499),s=n(7794),a=n.n(s),c=n(7294),i=n(1043),u=n(554),d=n(1664),l=n.n(d),f=n(1163),p=n(451),w=n(4807),m=n(5924),y=n(9171),h=n(5893);function g(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function v(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?g(Object(n),!0).forEach((function(r){(0,o.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function b(){var e=(0,i.I0)(),r=(0,f.useRouter)(),n=(0,c.useState)({oldpassword:"",newpassword:"",confirmpassword:"",error:{cognito:null,blankfield:!1,passwordmatch:!1}}),s=n[0],d=n[1],g=(0,i.v9)((function(e){return e.error})),b=(0,i.v9)((function(e){return e.loading}));function O(){e((0,y.P)())}var j=function(e){var r=e.currentTarget.name,n=e.currentTarget.value;d((function(e){return v(v({},e),{},(0,o.Z)({},r,n))}))};function x(){return(x=(0,t.Z)(a().mark((function n(t){var o,c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),O(),!(o=(0,p.Z)(t,s))){n.next=7;break}e((0,y.k)(o)),n.next=22;break;case 7:return n.prev=7,e((0,m.g)()),n.next=11,u.g.currentAuthenticatedUser();case 11:return c=n.sent,n.next=14,u.g.Authorization(c,s.oldpassword,s.newpassword);case 14:r.push("/confirmAuthorization"),e((0,m.s)()),n.next=22;break;case 18:n.prev=18,n.t0=n.catch(7),e((0,y.k)(n.t0.message)),e((0,m.s)());case 22:case"end":return n.stop()}}),n,null,[[7,18]])})))).apply(this,arguments)}return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(w.h4,{bg:!1,children:(0,h.jsx)(w.h4.Frame,{children:(0,h.jsx)(l(),{href:"/",children:(0,h.jsx)("a",{children:(0,h.jsx)(w.h4.Logo,{src:"../logo.png",alt:"iArt"})})})})}),(0,h.jsxs)(w._n,{children:[(0,h.jsxs)(w._n.InfoContainer,{children:[(0,h.jsx)(w._n.Headline,{children:"Gallery, meet iArt"}),(0,h.jsx)(w._n.Text,{children:"We offer the only virtual tours that actually increase your visibility and drive traffic back to your website without interfering with the way you do business. We look forward to hearing from you today!"}),(0,h.jsx)(w._n.GalleryButton,{href:"mailto:amy@iart-gallerywalks.com",children:"Contact"})]}),(0,h.jsxs)(w._n.FormContainer,{children:[b&&(0,h.jsx)(w.$j,{}),(0,h.jsxs)(w._n.Form,{onSubmit:function(e){return x.apply(this,arguments)},children:[(0,h.jsx)(w._n.FormHeadline,{children:"Change Password"}),g?(0,h.jsx)(w._n.Error,{children:g}):"",(0,h.jsx)(w._n.Group,{controlId:"oldpassword",children:(0,h.jsx)(w._n.Input,{"aria-describedby":"oldpasswordHelp",type:"password",name:"oldpassword",id:"oldpassword",placeholder:"Old password",value:s.oldpassword,onChange:j})}),(0,h.jsx)(w._n.Group,{controlId:"newpassword",children:(0,h.jsx)(w._n.Input,{"aria-describedby":"passwordHelp",type:"password",name:"newpassword",id:"newpassword",placeholder:"New password",value:s.newpassword,onChange:j})}),(0,h.jsx)(w._n.Group,{controlId:"confirmpassword",children:(0,h.jsx)(w._n.Input,{"aria-describedby":"confirmpasswordHelp",type:"password",name:"confirmpassword",id:"confirmpassword",placeholder:"Confirm password",value:s.confirmpassword,onChange:j})}),(0,h.jsx)("button",{type:"submit",className:"auth-button",children:"Change"})]})]})]})]})}},451:function(e,r){"use strict";r.Z=function(e,r){for(var n=document.getElementsByClassName("is-danger"),t=0;t<n.length;t++)n[t].classList.contains("error")||n[t].classList.remove("is-danger");return r.hasOwnProperty("nickname")&&""===r.nickname?(document.getElementById("nickname").classList.add("is-danger"),"Name cannot be empty"):r.hasOwnProperty("email")&&""===r.email?(document.getElementById("email").classList.add("is-danger"),"Email cannot be empty"):r.hasOwnProperty("verificationcode")&&""===r.verificationcode?(document.getElementById("verificationcode").classList.add("is-danger"),"Verification code cannot be empty"):r.hasOwnProperty("password")&&""===r.password?(document.getElementById("password").classList.add("is-danger"),"Password cannot be empty"):r.hasOwnProperty("oldpassword")&&""===r.oldpassword?(document.getElementById("oldpassword").classList.add("is-danger"),"Old password cannot be empty"):r.hasOwnProperty("newpassword")&&""===r.newpassword?(document.getElementById("newpassword").classList.add("is-danger"),"New password cannot be empty"):r.hasOwnProperty("confirmpassword")&&""===r.confirmpassword?(document.getElementById("confirmpassword").classList.add("is-danger"),"Confirm password cannot be empty"):r.hasOwnProperty("password")&&r.hasOwnProperty("confirmpassword")&&r.password!==r.confirmpassword?(document.getElementById("password").classList.add("is-danger"),document.getElementById("confirmpassword").classList.add("is-danger"),"Passwords must match"):r.hasOwnProperty("newpassword")&&r.hasOwnProperty("confirmpassword")&&r.newpassword!==r.confirmpassword?(document.getElementById("newpassword").classList.add("is-danger"),document.getElementById("confirmpassword").classList.add("is-danger"),"Passwords must match"):void 0}},6082:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/changepassword",function(){return n(1253)}])},1664:function(e,r,n){e.exports=n(7913)},1163:function(e,r,n){e.exports=n(1587)},6864:function(e,r,n){"use strict";function t(){return t=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},t.apply(this,arguments)}n.d(r,{Z:function(){return t}})},4730:function(e,r,n){"use strict";function t(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)n=s[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(r,{Z:function(){return t}})}},function(e){e.O(0,[807,774,888,179],(function(){return r=6082,e(e.s=r);var r}));var r=e.O();_N_E=r}]);